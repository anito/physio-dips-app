import{g as e}from"./p-6a8a5b8e.js";import{e as o}from"./p-d22fa63b.js";import{g as n}from"./p-d8b735e7.js";import{l as r}from"./p-bd8dee20.js";const t=n=>{let r=o(n,HTMLElement)?n:e(n);for(;!/^VIME-PLAYER$/.test(null==r?void 0:r.nodeName);)r=r.parentElement;return r},s=(o,n)=>function(o,n){var r=o.prototype,t=r.componentWillLoad;r.componentWillLoad=function(){var o,r=this,s=e(this),i={promise:new Promise((function(e){o=e})),resolve:o},u=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:n,updater:function(e,o){r[e]=o},onOpen:i}});return s.dispatchEvent(u),i.promise.then((function(){if(t)return t.call(r)}))}}(o,n),i=(e,o,s,i)=>{const u=null!=i?i:t(e),m=o.map(e=>{const o=n(e);return r(u,o,()=>{s(e,u[e])})});return()=>{m.forEach(e=>e())}};export{t as f,i as u,s as w}