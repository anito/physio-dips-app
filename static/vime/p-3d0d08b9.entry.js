import{r as t,c as o,h as i,H as s,g as r}from"./p-6a8a5b8e.js";import{P as e}from"./p-7e342812.js";import{d as n,g as a,b as h}from"./p-d22fa63b.js";import{f as l,w as c}from"./p-0d94bd6e.js";import"./p-d8b735e7.js";import{l as p}from"./p-bd8dee20.js";import{D as d}from"./p-874fa941.js";const u=class{constructor(i){t(this,i),this.vInteractionChange=o(this,"vInteractionChange",7),this.keyboardDisposal=new d,this.showTapHighlight=!1,this.hidden=!1,this.scale=1,this.isTouch=!1}onKeysChange(){if(this.keyboardDisposal.empty(),n(this.keys))return;const t=l(this),o=this.keys.split("/");this.keyboardDisposal.add(p(t,"keydown",t=>{o.includes(t.key)&&this.button.click()}))}componentWillLoad(){this.findTooltip(),this.onKeysChange()}disconnectedCallback(){this.keyboardDisposal.empty()}onTouchStart(){this.showTapHighlight=!0,setTimeout(()=>{this.showTapHighlight=!1},100)}findTooltip(){const t=this.el.querySelector("vime-tooltip");return a(t)||(this.describedBy=t.id),t}onShowTooltip(){const t=this.findTooltip();a(t)||(t.active=!0),this.vInteractionChange.emit(!0)}onHideTooltip(){const t=this.findTooltip();a(t)||(t.active=!1),this.button.blur(),this.vInteractionChange.emit(!1)}onFocus(){this.el.dispatchEvent(new window.Event("focus",{bubbles:!0})),this.onShowTooltip()}onBlur(){this.el.dispatchEvent(new window.Event("blur",{bubbles:!0})),this.onHideTooltip()}onMouseEnter(){this.onShowTooltip()}onMouseLeave(){this.onHideTooltip()}render(){return i(s,{class:{hidden:this.hidden}},i("button",{style:{transform:`scale(${this.scale})`},class:{notTouch:!this.isTouch,tapHighlight:this.showTapHighlight},id:this.identifier,type:"button","aria-label":this.label,"aria-haspopup":n(this.menu)?void 0:"true","aria-controls":this.menu,"aria-expanded":n(this.menu)?void 0:this.expanded?"true":"false","aria-pressed":n(this.pressed)?void 0:this.pressed?"true":"false","aria-hidden":this.hidden?"true":"false","aria-describedby":this.describedBy,onTouchStart:this.onTouchStart.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:t=>{this.button=t}},i("slot",null)))}get el(){return r(this)}static get watchers(){return{keys:["onKeysChange"]}}};c(u,[e.isTouch]),u.style="vime-control{}vime-control.hidden{display:none}vime-control>button{display:flex;align-items:center;flex-direction:row;border:var(--control-border);cursor:pointer;flex-shrink:0;color:var(--control-color);background:var(--control-bg, transparent);border-radius:var(--control-border-radius);padding:var(--control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease}vime-control>button:focus{outline:0}vime-control>button.tapHighlight{background:var(--control-tap-highlight)}vime-control>button.notTouch:focus,vime-control>button.notTouch:hover,vime-control>button.notTouch[aria-expanded=true]{background:var(--control-focus-bg);color:var(--control-focus-color)}";const v=class{constructor(o){t(this,o),this.scale=1,this.opacity=1}render(){return i("svg",{xmlns:"http://www.w3.org/2000/svg",role:"presentation",focusable:"false",style:{color:this.color,transform:`scale(${this.scale})`,opacity:""+this.opacity}},h(this.href)?i("use",{href:this.href}):i("slot",null))}};v.style="vime-icon>svg{display:block;width:var(--icon-width, 18px);height:var(--icon-height, 18px);fill:currentColor;pointer-events:none}";let m=0;const b=class{constructor(o){t(this,o),this.hidden=!1,this.active=!1,this.position="top",this.isTouch=!1}getId(){const t=this.el.id;return h(t)&&t.length>0?t:(m+=1,"vime-tooltip-"+m)}render(){return i(s,{id:this.getId(),role:"tooltip","aria-hidden":!this.active||this.isTouch?"true":"false",class:{hidden:this.hidden,onTop:"top"===this.position,onBottom:"bottom"===this.position,growLeft:"left"===this.direction,growRight:"right"===this.direction}},i("slot",null))}get el(){return r(this)}};c(b,[e.isTouch]),b.style="vime-tooltip{left:50%;transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--tooltip-bg);border-radius:var(--tooltip-border-radius);box-shadow:var(--tooltip-box-shadow);color:var(--tooltip-color);font-size:var(--tooltip-font-size);padding:var(--tooltip-padding);transition:opacity var(--tooltip-fade-duration) var(--tooltip-fade-timing-func);z-index:60}vime-tooltip[aria-hidden=false]{opacity:1;visibility:visible}vime-tooltip.hidden{display:none}vime-tooltip.onTop{bottom:100%;margin-bottom:var(--tooltip-spacing)}vime-tooltip.onBottom{top:100%;margin-top:var(--tooltip-spacing)}vime-tooltip.growLeft{left:auto;right:0;transform:none}vime-tooltip.growRight{left:0;transform:none}";export{u as vime_control,v as vime_icon,b as vime_tooltip}